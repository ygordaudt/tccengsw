import{as as k,i as C,au as E,av as Q,c as _,j as O,k as A,a as V,ah as T,ai as $,ad as B,r as y,d as D,w as l,b as L,o as N,f as e,e as r,ae as R,u as d,af as U,Q as j,h as g}from"./index.b9dadcd4.js";import{a as I,Q as P}from"./QForm.526e627e.js";import{Q as z,a as F}from"./QCard.774202d0.js";import{u as G}from"./use-quasar.d9afca8e.js";import{r as x}from"./fieldRules.141a7f49.js";import"./use-dark.5ee3a7de.js";const M=s=>{if(!s.response)s.hasOwnProperty("message")?n(s.message):n("Falha de conex\xE3o, tente novamente mais tarde!");else if(s.response.hasOwnProperty("message"))n(s.response.message);else if(s.response.hasOwnProperty("data")){const t=s.response.data;if(t&&Array.isArray(t))t.forEach((a,o)=>n(a[a.keys(t)[o]]));else if(t){const a=t[Object.keys(t)[0]];if(Array.isArray(a))return a.forEach(c=>n(c));const o=H(s);n(o||t[Object.keys(t)[0]])}}else n("Ocorreu um erro inesperado, tente novamente mais tarde!")},n=s=>{k.create({message:s,color:"negative",textColor:"white"})},H=s=>({401:"Usu\xE1rio n\xE3o autorizado! Verifique seu login e senha.",403:"Acesso negado! Este usu\xE1rio n\xE3o tem permiss\xE3o para acessar este recurso!",404:"Recurso n\xE3o encontrado!",422:"Falha de valida\xE7\xE3o!",500:"Ocorreu um erro inesperado, tente novamente mais tarde!"})[s.response.status];var J=C({name:"QCardActions",props:{...E,vertical:Boolean},setup(s,{slots:t}){const a=Q(s),o=_(()=>`q-card__actions ${a.value} q-card__actions--${s.vertical===!0?"vert column":"horiz row"}`);return()=>O("div",{class:o.value},A(t.default))}});const K={class:"row"},W={class:"col-0 col-sm-5 bg-primary rounded-left-borders"},X={class:"row q-ml-sm q-mt-sm"},Y={class:"col-12 fredoka text-subtitle1"},Z=g("TCC Eng. Sw. "),ee=e("div",{class:"row full-width q-px-xl q-pb-xl full-height flex flex-center"},[e("div",null,[e("div",{class:"text-h4 text-uppercase text-white fredoka",style:{"min-width":"220px"}},"Opss!"),e("div",{class:"text-white q-my-sm text-subtitle1"},"Sua sess\xE3o expirou. Informe sua senha senha para desbloquear. ")])],-1),se={class:"col-12 col-sm-7"},te={class:"row q-ml-sm q-mt-sm sm-and-up-hide"},ae={class:"col-12 fredoka text-subtitle1"},oe=g("TCC Eng. Sw. "),re={class:"row q-pa-sm-sm q-pa-md"},ne={class:"col-12"},le={class:"q-mb-xl"},ie={class:"flex justify-center"},ce={class:"text-h4 text-uppercase q-my-none text-weight-bold text-primary fredoka"},fe={name:"LockScreen",setup(s){const t=V(),a=T();G();const o=$(),c=B(),h=_(()=>t.getUser),w=_(()=>a.isLoading),m=y(""),u=y("password"),b=h.value,q=async()=>{try{a.ADD_REQUEST(),await t.DO_LOGIN({username:h.value.username,password:m.value});let i=o.query.to||"/admin";c.push({path:i})}catch(p){M(p),a.REMOVE_REQUEST()}},S=()=>t.SIGN_OUT().then(()=>c.push("/login"));return(p,i)=>{const f=L("router-link");return N(),D(z,{class:"q-mx-xl"},{default:l(()=>[e("div",K,[e("div",W,[e("div",X,[e("div",Y,[r(f,{class:"text-white",style:{"text-decoration":"none"},to:"/"},{default:l(()=>[Z]),_:1})])]),ee]),e("div",se,[e("div",te,[e("div",ae,[r(f,{class:"text-primary",style:{"text-decoration":"none"},to:"/"},{default:l(()=>[oe]),_:1})])]),e("div",re,[e("div",ne,[r(P,{onSubmit:q},{default:l(()=>[r(F,null,{default:l(()=>[e("div",le,[e("div",ie,[e("div",ce,R(d(b).username),1)])]),r(I,{modelValue:m.value,"onUpdate:modelValue":i[1]||(i[1]=v=>m.value=v),rules:[d(x).required,d(x).minLength(6)],type:u.value?"password":"text","lazy-rules":"",placeholder:"Senha"},{append:l(()=>[r(U,{name:u.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:i[0]||(i[0]=v=>u.value=!u.value)},null,8,["name"])]),_:1},8,["modelValue","rules","type"])]),_:1}),r(J,null,{default:l(()=>[r(j,{loading:d(w),class:"text-capitalize full-width",color:"primary",label:"Desbloquear",push:"",type:"submit"},null,8,["loading"]),e("div",{class:"q-mt-sm"},[e("a",{class:"text-primary",href:"#",onClick:S},"Entrar com outro usu\xE1rio")])]),_:1})]),_:1})])])])])]),_:1})}}};export{fe as default};
